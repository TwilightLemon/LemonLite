<Window x:Class="LemonLite.Views.Windows.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:behavior="clr-namespace:LemonLite.Behaviors"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:fluent="https://github.com/TwilightLemon/FluentWpfCore"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:local="clr-namespace:LemonLite.Views.Windows"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ws="https://schemas.elecho.dev/wpfsuite"
        Title="SettingsWindow"
        Width="800"
        Height="480"
        Background="Transparent"
        Foreground="{DynamicResource ForeColor}"
        ResizeMode="NoResize"
        mc:Ignorable="d">
    <Window.Resources>
        <WindowChrome x:Key="windowChrome"
                      CaptionHeight="24"
                      ResizeBorderThickness="4" />
    </Window.Resources>
    <fluent:WindowMaterial.Material>
        <fluent:WindowMaterial x:Name="material"
                               IsDarkMode="True"
                               MaterialMode="Mica"
                               UseWindowComposition="False"
                               WindowChromeEx="{StaticResource windowChrome}" />
    </fluent:WindowMaterial.Material>
    <i:Interaction.Behaviors>
        <behavior:WindowDragMoveBehavior />
    </i:Interaction.Behaviors>
    <DockPanel>
        <Border Width="200"
                Margin="8"
                Background="{DynamicResource TabMaskColor}"
                CornerRadius="8"
                DockPanel.Dock="Left">
            <ws:ListBox Margin="8"
                        d:ItemsSource="{d:SampleData ItemCount=5}"
                        Background="Transparent"
                        BorderThickness="0"
                        ItemContainerStyle="{DynamicResource SimpleListBoxItemStyle}"
                        ItemsSource="{Binding SettingsMenus}"
                        SelectedItem="{Binding SelectedMenu}"
                        SelectionChanged="ListBox_SelectionChanged">
                <ws:ListBox.ItemTemplate>
                    <DataTemplate>
                        <ws:Border Height="40"
                                   Padding="10,0"
                                   d:Background="#3C000000"
                                   Background="Transparent">
                            <ws:StackPanel VerticalAlignment="Center"
                                           Orientation="Horizontal"
                                           Spacing="8">
                                <Border x:Name="FocusedIcon"
                                        Width="3"
                                        Height="16"
                                        Margin="-18,0,0,0"
                                        d:Visibility="Visible"
                                        Background="{DynamicResource HighlightThemeColor}"
                                        CornerRadius="1.5"
                                        Visibility="Hidden" />
                                <Path Width="15"
                                      Height="15"
                                      VerticalAlignment="Center"
                                      Data="{Binding Icon}"
                                      Fill="{DynamicResource ForeColor}"
                                      Stretch="Uniform" />
                                <TextBlock VerticalAlignment="Center" Text="{Binding Title}" />
                            </ws:StackPanel>
                        </ws:Border>
                        <DataTemplate.Triggers>
                            <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType={x:Type ListBoxItem}, Mode=FindAncestor}}" Value="True">
                                <DataTrigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="FocusedIcon"
                                                             Storyboard.TargetProperty="Height"
                                                             From="0"
                                                             To="16"
                                                             Duration="0:0:0.3">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.EnterActions>
                                <Setter TargetName="FocusedIcon" Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType={x:Type ListBoxItem}, Mode=FindAncestor}}" Value="False">
                                <Setter TargetName="FocusedIcon" Property="Visibility" Value="Hidden" />
                            </DataTrigger>
                        </DataTemplate.Triggers>
                    </DataTemplate>
                </ws:ListBox.ItemTemplate>
            </ws:ListBox>
        </Border>
        <ws:Frame x:Name="WindowFrame"
                  Margin="8"
                  NavigationUIVisibility="Hidden">
            <ws:Frame.Transition>
                <ws:SlideFadeTransition Distance="50"
                                        Orientation="Vertical"
                                        Duration="0:0:0.200" />
            </ws:Frame.Transition>
        </ws:Frame>
    </DockPanel>
</Window>
